@using NPAManagement.ValidationFilters;
@model NPAManagement.Models.CollateralDetailInCaseOfPersonalGuarantee
@if (this.ViewContext.FormContext == null)
{
    this.ViewContext.FormContext = new FormContext();
}
@{
    bool viewOnlyUser = false;
    if (ViewBag.ViewOnlyUser != null)
    {
        viewOnlyUser = (bool)ViewBag.ViewOnlyUser;
    }
}
@{string idValueToAttach = $"_{new Random().Next(1000, 9999)}{new Random().Next(1000, 9999)}{new Random().Next(10000, 99999)}{new Random().Next(1000, 9999)}";}
<div id="dvCollateralDetailPersonalGuarantee@(idValueToAttach)">
    <br />
    <div class="card">
        <div class="card-header" data-toggle="collapse" data-target="#collapseCollateralDetailPersonalGuarantee@(idValueToAttach)" aria-expanded="true" aria-controls="collapseCollateralDetailPersonalGuarantee@(idValueToAttach)">
            <h3>
                Personal Guarantee Collateral Detail
            </h3>
        </div>
        <div class="collapse show" id="collapseCollateralDetailPersonalGuarantee@(idValueToAttach)">
            <div class="card-body">
                @*@Html.HiddenFor(m => m.CollateralDetailMainId)*@
                <div class="form-row">
                    @Html.LabelFor(model => model.NameOfGuarantor, htmlAttributes: new { @class = "control-label col-md-3 required" })
                    <div class="col-md-3">
                        @Html.EditorFor(model => model.NameOfGuarantor, new { htmlAttributes = new { @class = "form-control", @data_Model = "NameOfGuarantor", Name = "NameOfGuarantor" + (idValueToAttach) }.DisabledIf(viewOnlyUser == true) })
                        @Html.ValidationMessageFor(model => model.NameOfGuarantor, "", new { @class = "text-danger" })
                    </div>
                    @Html.LabelFor(model => model.CitizenshipNumber, htmlAttributes: new { @class = "control-label col-md-3 required" })
                    <div class="col-md-3">
                        @Html.EditorFor(model => model.CitizenshipNumber, new { htmlAttributes = new { @class = "form-control", @data_Model = "CitizenshipNumber", Name = "CitizenshipNumber" + (idValueToAttach) }.DisabledIf(viewOnlyUser == true) })
                        @Html.ValidationMessageFor(model => model.CitizenshipNumber, "", new { @class = "text-danger" })
                    </div>
                </div>
                <hr />
                <div class="form-row">
                    @Html.LabelFor(model => model.FatherName, htmlAttributes: new { @class = "control-label col-md-3 required" })
                    <div class="col-md-3">
                        @Html.EditorFor(model => model.FatherName, new { htmlAttributes = new { @class = "form-control", @data_Model = "FatherName", Name = "FatherName" + (idValueToAttach) }.DisabledIf(viewOnlyUser == true) })
                        @Html.ValidationMessageFor(model => model.FatherName, "", new { @class = "text-danger" })
                    </div>
                    @Html.LabelFor(model => model.GrandfatherName, htmlAttributes: new { @class = "control-label col-md-3 required" })
                    <div class="col-md-3">
                        @Html.EditorFor(model => model.GrandfatherName, new { htmlAttributes = new { @class = "form-control", @data_Model = "GrandfatherName", Name = "GrandfatherName" + (idValueToAttach) }.DisabledIf(viewOnlyUser == true) })
                        @Html.ValidationMessageFor(model => model.GrandfatherName, "", new { @class = "text-danger" })
                    </div>
                </div>
                <hr />
                <div class="form-row">
                    @Html.LabelFor(model => model.PermanentAddress, htmlAttributes: new { @class = "control-label col-md-3 required" })
                    <div class="col-md-3">
                        @Html.EditorFor(model => model.PermanentAddress, new { htmlAttributes = new { @class = "form-control", @data_Model = "PermanentAddress", Name = "PermanentAddress" + (idValueToAttach) }.DisabledIf(viewOnlyUser == true) })
                        @Html.ValidationMessageFor(model => model.PermanentAddress, "", new { @class = "text-danger" })
                    </div>
                    @Html.LabelFor(model => model.CurrentAddress, htmlAttributes: new { @class = "control-label col-md-3 required" })
                    <div class="col-md-3">
                        @Html.EditorFor(model => model.CurrentAddress, new { htmlAttributes = new { @class = "form-control", @data_Model = "CurrentAddress" }.DisabledIf(viewOnlyUser == true) })
                        @Html.ValidationMessageFor(model => model.CurrentAddress, "", new { @class = "text-danger" })
                    </div>
                </div>
                <hr />
                <div class="form-row">
                    @Html.LabelFor(model => model.NetworthOfGuarantor, htmlAttributes: new { @class = "control-label col-md-3 required" })
                    <div class="col-md-3">
                        @Html.EditorFor(model => model.NetworthOfGuarantor, new { htmlAttributes = new { @class = "form-control decimalType", @data_Model = "NetworthOfGuarantor" }.DisabledIf(viewOnlyUser == true) })
                        @Html.ValidationMessageFor(model => model.NetworthOfGuarantor, "", new { @class = "text-danger" })
                    </div>
                    @Html.LabelFor(model => model.RelationWithBorrower, htmlAttributes: new { @class = "control-label col-md-3 required" })
                    <div class="col-md-3">
                        @Html.EditorFor(model => model.RelationWithBorrower, new { htmlAttributes = new { @class = "form-control", @data_Model = "RelationWithBorrower" }.DisabledIf(viewOnlyUser == true) })
                        @Html.ValidationMessageFor(model => model.RelationWithBorrower, "", new { @class = "text-danger" })
                    </div>
                </div>
                <hr />
                <div class="form-row">
                    @Html.LabelFor(model => model.ContactNumber, htmlAttributes: new { @class = "control-label col-md-3 required" })
                    <div class="col-md-3">
                        @Html.EditorFor(model => model.ContactNumber, new { htmlAttributes = new { @class = "form-control", @data_Model = "ContactNumber" }.DisabledIf(viewOnlyUser == true) })
                        @Html.ValidationMessageFor(model => model.ContactNumber, "", new { @class = "text-danger" })
                    </div>
                    @Html.LabelFor(model => model.Profession, htmlAttributes: new { @class = "control-label col-md-3 required" })
                    <div class="col-md-3">
                        @Html.EditorFor(model => model.Profession, new { htmlAttributes = new { @class = "form-control", @data_Model = "Profession" }.DisabledIf(viewOnlyUser == true) })
                        @Html.ValidationMessageFor(model => model.Profession, "", new { @class = "text-danger" })
                    </div>
                </div>
            </div>
        </div>
    </div>
    <br />
</div>
@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}
<script type="text/javascript">
    $(document).ready(function () {
        $('.decimalType').toArray().forEach(function (field) {
            new Cleave(field, {
                numeral: true,
                numeralThousandsGroupStyle: 'thousand'
            });
        });
    });
</script>